(()=>{var e={};e.id=366,e.ids=[366],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},79905:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>i}),a(66133),a(22834),a(15495),a(35866);var s=a(23191),r=a(88716),d=a(37922),l=a.n(d),n=a(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let i=["",{children:["dashboard",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,66133)),"/Users/garrettmerrill/Documents/ootp-draft-iq-parent/ootp-draft-iq/src/app/dashboard/upload/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,22834)),"/Users/garrettmerrill/Documents/ootp-draft-iq-parent/ootp-draft-iq/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,15495)),"/Users/garrettmerrill/Documents/ootp-draft-iq-parent/ootp-draft-iq/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/garrettmerrill/Documents/ootp-draft-iq-parent/ootp-draft-iq/src/app/dashboard/upload/page.tsx"],u="/dashboard/upload/page",x={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/upload/page",pathname:"/dashboard/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},56242:(e,t,a)=>{Promise.resolve().then(a.bind(a,95401))},41291:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},30361:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},99102:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62881).Z)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},77506:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},95401:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(10326),r=a(17577),d=a(35047),l=a(30361),n=a(41291),o=a(99102),i=a(77506),c=a(63685);function u(){let e=(0,d.useRouter)(),[t,a]=(0,r.useState)(null),[u,x]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(null),[f,b]=(0,r.useState)(!1),[j,y]=(0,r.useState)(null),k=(0,r.useCallback)(e=>{e.preventDefault(),x(!1),g(null);let t=e.dataTransfer.files[0];t&&t.name.endsWith(".csv")?a(t):g("Please upload a CSV file")},[]),N=async()=>{if(t){p(!0),g(null);try{let a=new FormData;a.append("file",t);let s=await fetch("/api/players/upload",{method:"POST",body:a}),r=await s.json();if(!s.ok)throw Error(r.error||"Upload failed");b(!0),y(r.stats),setTimeout(()=>{e.push("/dashboard/draft")},2e3)}catch(e){g(e instanceof Error?e.message:"Something went wrong")}finally{p(!1)}}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-dugout-900 dark:text-white",children:"Upload Draft Data"}),s.jsx("p",{className:"text-dugout-500 dark:text-dugout-400 mt-1",children:"Import your OOTP Baseball CSV export file"})]}),f&&j&&s.jsx("div",{className:"card p-6 border-l-4 border-l-greenFlag",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-greenFlag/10",children:s.jsx(l.Z,{className:"w-6 h-6 text-greenFlag"})}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"font-semibold text-dugout-900 dark:text-white",children:"Upload Successful!"}),(0,s.jsxs)("p",{className:"text-sm text-dugout-500 dark:text-dugout-400 mt-1",children:["Imported ",j.total," players (",j.batters," batters, ",j.pitchers," pitchers)"]}),s.jsx("p",{className:"text-sm text-dugout-400 dark:text-dugout-500 mt-2",children:"Redirecting to draft board..."})]})]})}),h&&s.jsx("div",{className:"card p-4 border-l-4 border-l-redFlag",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(n.Z,{className:"w-5 h-5 text-redFlag flex-shrink-0"}),s.jsx("p",{className:"text-sm text-redFlag",children:h})]})}),!f&&s.jsx("div",{onDragOver:e=>{e.preventDefault(),x(!0)},onDragLeave:()=>x(!1),onDrop:k,className:`card p-8 border-2 border-dashed transition-colors ${u?"border-diamond-500 bg-diamond-50 dark:bg-diamond-950/20":t?"border-greenFlag bg-greenFlag/5":"border-dugout-300 dark:border-dugout-700"}`,children:s.jsx("div",{className:"text-center",children:t?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-greenFlag/10 flex items-center justify-center mb-4",children:s.jsx(o.Z,{className:"w-8 h-8 text-greenFlag"})}),s.jsx("h3",{className:"font-semibold text-dugout-900 dark:text-white",children:t.name}),(0,s.jsxs)("p",{className:"text-sm text-dugout-500 dark:text-dugout-400 mt-1",children:[(t.size/1024).toFixed(1)," KB"]}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3 mt-6",children:[s.jsx("button",{onClick:()=>a(null),className:"btn-secondary btn-sm",disabled:m,children:"Choose Different File"}),s.jsx("button",{onClick:N,disabled:m,className:"btn-primary btn-sm",children:m?(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.Z,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{className:"w-4 h-4"}),"Upload & Analyze"]})})]})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-dugout-100 dark:bg-dugout-800 flex items-center justify-center mb-4",children:s.jsx(c.Z,{className:"w-8 h-8 text-dugout-400"})}),s.jsx("h3",{className:"font-semibold text-dugout-900 dark:text-white",children:"Drop your CSV file here"}),s.jsx("p",{className:"text-sm text-dugout-500 dark:text-dugout-400 mt-1",children:"or click to browse"}),(0,s.jsxs)("label",{className:"btn-primary btn-sm mt-6 cursor-pointer inline-flex",children:[s.jsx("input",{type:"file",accept:".csv",onChange:e=>{g(null);let t=e.target.files?.[0];t&&t.name.endsWith(".csv")?a(t):g("Please upload a CSV file")},className:"hidden"}),"Select File"]})]})})}),(0,s.jsxs)("div",{className:"card p-6",children:[s.jsx("h2",{className:"font-semibold text-dugout-900 dark:text-white mb-4",children:"How to Export from OOTP"}),(0,s.jsxs)("ol",{className:"space-y-3 text-sm text-dugout-600 dark:text-dugout-400",children:[(0,s.jsxs)("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-diamond-100 dark:bg-diamond-900 text-diamond-700 dark:text-diamond-300 flex items-center justify-center text-xs font-medium",children:"1"}),s.jsx("span",{children:"Open your OOTP Baseball game and go to the draft pool"})]}),(0,s.jsxs)("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-diamond-100 dark:bg-diamond-900 text-diamond-700 dark:text-diamond-300 flex items-center justify-center text-xs font-medium",children:"2"}),s.jsx("span",{children:"Select all players and choose Export to CSV"})]}),(0,s.jsxs)("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-diamond-100 dark:bg-diamond-900 text-diamond-700 dark:text-diamond-300 flex items-center justify-center text-xs font-medium",children:"3"}),s.jsx("span",{children:"Make sure to include all available columns in the export"})]}),(0,s.jsxs)("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-diamond-100 dark:bg-diamond-900 text-diamond-700 dark:text-diamond-300 flex items-center justify-center text-xs font-medium",children:"4"}),s.jsx("span",{children:"Upload the saved CSV file here"})]})]})]})]})}},66133:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>d,default:()=>n});var s=a(68570);let r=(0,s.createProxy)(String.raw`/Users/garrettmerrill/Documents/ootp-draft-iq-parent/ootp-draft-iq/src/app/dashboard/upload/page.tsx`),{__esModule:d,$$typeof:l}=r;r.default;let n=(0,s.createProxy)(String.raw`/Users/garrettmerrill/Documents/ootp-draft-iq-parent/ootp-draft-iq/src/app/dashboard/upload/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[948,683,404,485,747],()=>a(79905));module.exports=s})();