"use strict";(()=>{var e={};e.id=832,e.ids=[832],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},6667:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>g,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>y});var i={};s.r(i),s.d(i,{GET:()=>d,dynamic:()=>h});var r=s(49303),o=s(88716),a=s(60670),n=s(87070),p=s(75571),l=s(95456),u=s(27351);let h="force-dynamic";async function d(e){try{let e=await (0,p.getServerSession)(l.L);if(!e?.user?.id)return n.NextResponse.json({error:"Unauthorized"},{status:401});let t=(await s.e(538).then(s.bind(s,13538))).default,i=(await t.draftPhilosophy.findMany({where:{userId:e.user.id},orderBy:{updatedAt:"desc"}})).map(e=>({...e,settings:JSON.parse(JSON.stringify(e.settings))})),r=i.find(e=>e.isActive),o=Object.entries(u.Px).map(([e,t])=>({id:e,...t}));return n.NextResponse.json({philosophies:i,presets:o,activePhilosophy:r})}catch(e){return console.error("Error fetching philosophies:",e),n.NextResponse.json({error:"Failed to fetch philosophies"},{status:500})}}let c=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/philosophy/route",pathname:"/api/philosophy",filename:"route",bundlePath:"app/api/philosophy/route"},resolvedPagePath:"/Users/garrettmerrill/Documents/ootp-draft-iq-parent/ootp-draft-iq/src/app/api/philosophy/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:g,staticGenerationAsyncStorage:y,serverHooks:m}=c,v="/api/philosophy/route";function f(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:y})}},95456:(e,t,s)=>{s.d(t,{L:()=>a});var i=s(53797),r=s(42023),o=s.n(r);let a={providers:[(0,i.Z)({name:"credentials",credentials:{username:{label:"Username",type:"text"},password:{label:"Password",type:"password"}},async authorize(e){let t=(await s.e(538).then(s.bind(s,13538))).default;if(!e?.username||!e?.password)throw Error("Please enter your username and password");let i=await t.user.findUnique({where:{username:e.username}});if(!i)throw Error("No user found with this username");if(!await o().compare(e.password,i.passwordHash))throw Error("Invalid password");return{id:i.id,name:i.username}}})],session:{strategy:"jwt",maxAge:2592e3},pages:{signIn:"/login",error:"/login"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id),e)}}},27351:(e,t,s)=>{s.d(t,{N2:()=>a,Px:()=>o,ae:()=>i,ic:()=>n});let i={name:"Default",description:"Balanced approach",isActive:!0,isPreset:!1,potentialWeight:50,overallWeight:20,riskWeight:15,signabilityWeight:15,collegeVsHS:"neutral",collegeHSBonus:5,preferredBatterTypes:[],batterTypeBonus:5,preferredPitcherTypes:[],pitcherTypeBonus:5,priorityPositions:[],positionBonus:10,useBabipKs:!1,batterWeights:{power:25,contact:25,babip:0,avoidK:0,eye:20,gap:15,speed:10,defense:5},useMovementSP:!1,spWeights:{stuff:25,movement:0,control:20,pBabip:15,hrRate:15,stamina:20,arsenal:5},useMovementRP:!1,rpWeights:{stuff:30,movement:0,control:20,pBabip:20,hrRate:20,arsenal:10},tierThresholds:{elite:80,veryGood:65,good:50,average:35}},r={potentialWeight:i.potentialWeight,overallWeight:i.overallWeight,riskWeight:i.riskWeight,signabilityWeight:i.signabilityWeight,collegeVsHS:i.collegeVsHS,collegeHSBonus:i.collegeHSBonus,preferredBatterTypes:i.preferredBatterTypes,batterTypeBonus:i.batterTypeBonus,preferredPitcherTypes:i.preferredPitcherTypes,pitcherTypeBonus:i.pitcherTypeBonus,priorityPositions:i.priorityPositions,positionBonus:i.positionBonus,useBabipKs:i.useBabipKs,batterWeights:i.batterWeights,useMovementSP:i.useMovementSP,spWeights:i.spWeights,useMovementRP:i.useMovementRP,rpWeights:i.rpWeights,tierThresholds:i.tierThresholds},o={balanced:{...r,name:"Balanced",description:"A well-rounded approach",isActive:!1,isPreset:!0},highCeiling:{...r,name:"High Ceiling",description:"Maximize upside, accept risk",isActive:!1,isPreset:!0,potentialWeight:60,overallWeight:10,riskWeight:10,signabilityWeight:20,collegeVsHS:"hs",collegeHSBonus:10,preferredBatterTypes:[],batterTypeBonus:5,preferredPitcherTypes:[],pitcherTypeBonus:5,priorityPositions:[],positionBonus:10,useBabipKs:!1,batterWeights:{power:30,contact:20,babip:0,avoidK:0,eye:15,gap:15,speed:15,defense:5},useMovementSP:!1,spWeights:{stuff:30,movement:0,control:15,pBabip:15,hrRate:15,stamina:20,arsenal:5},useMovementRP:!1,rpWeights:{stuff:35,movement:0,control:15,pBabip:20,hrRate:20,arsenal:10},tierThresholds:{elite:80,veryGood:65,good:50,average:35}},safeSteady:{...r,name:"Safe & Steady",description:"Minimize risk, prefer polished players",isActive:!1,isPreset:!0,potentialWeight:25,overallWeight:35,riskWeight:25,signabilityWeight:15,collegeVsHS:"college",collegeHSBonus:15,preferredBatterTypes:[],batterTypeBonus:5,preferredPitcherTypes:[],pitcherTypeBonus:5,priorityPositions:[],positionBonus:10,useBabipKs:!1,batterWeights:{power:20,contact:30,babip:0,avoidK:0,eye:25,gap:15,speed:5,defense:5},useMovementSP:!1,spWeights:{stuff:20,movement:0,control:25,pBabip:20,hrRate:15,stamina:15,arsenal:5},useMovementRP:!1,rpWeights:{stuff:25,movement:0,control:25,pBabip:20,hrRate:20,arsenal:10},tierThresholds:{elite:80,veryGood:65,good:50,average:35}},pitchingHeavy:{...r,name:"Pitching Heavy",description:"Build from the mound",isActive:!1,isPreset:!0,preferredPitcherTypes:["GB","EX GB"],pitcherTypeBonus:10,priorityPositions:["SP","RP","CL"],positionBonus:15},positionPlayerFocus:{...r,name:"Position Player Focus",description:"Bats win championships",isActive:!1,isPreset:!0,priorityPositions:["C","SS","CF"],positionBonus:15,batterWeights:{power:30,contact:25,babip:0,avoidK:0,eye:20,gap:15,speed:5,defense:5}},premiumPositions:{...r,name:"Premium Positions",description:"Focus on hard-to-fill positions",isActive:!1,isPreset:!0,priorityPositions:["C","2B","SS","3B","CF","SP"],positionBonus:20},toolsOverProduction:{...r,name:"Tools Over Production",description:"Raw athleticism and projectability",isActive:!1,isPreset:!0,potentialWeight:55,overallWeight:10,riskWeight:15,signabilityWeight:20,collegeVsHS:"hs",collegeHSBonus:10,preferredBatterTypes:[],batterTypeBonus:5,preferredPitcherTypes:[],pitcherTypeBonus:5,priorityPositions:[],positionBonus:10,useBabipKs:!1,batterWeights:{power:20,contact:15,babip:0,avoidK:0,eye:15,gap:15,speed:20,defense:15},useMovementSP:!1,spWeights:{stuff:30,movement:0,control:15,pBabip:15,hrRate:15,stamina:20,arsenal:5},useMovementRP:!1,rpWeights:{stuff:35,movement:0,control:15,pBabip:20,hrRate:20,arsenal:10},tierThresholds:{elite:80,veryGood:65,good:50,average:35}}},a=["C","2B","SS","3B","CF"],n=["SP","RP","CL"]}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[948,242,790,70],()=>s(6667));module.exports=i})();