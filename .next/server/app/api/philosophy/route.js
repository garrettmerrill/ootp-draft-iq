"use strict";(()=>{var e={};e.id=832,e.ids=[832],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},6667:(e,t,i)=>{i.r(t),i.d(t,{originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>g,routeModule:()=>h,serverHooks:()=>y,staticGenerationAsyncStorage:()=>m});var r={};i.r(r),i.d(r,{GET:()=>c,dynamic:()=>d});var s=i(49303),o=i(88716),n=i(60670),a=i(87070),l=i(75571),p=i(95456),u=i(27351);let d="force-dynamic";async function c(e){try{let e=await (0,l.getServerSession)(p.L);if(!e?.user?.id)return a.NextResponse.json({error:"Unauthorized"},{status:401});let t=(await i.e(538).then(i.bind(i,13538))).default,r=(await t.draftPhilosophy.findMany({where:{userId:e.user.id},orderBy:{updatedAt:"desc"}})).map(e=>({...e,settings:JSON.parse(JSON.stringify(e.settings))})),s=r.find(e=>e.isActive),o=Object.entries(u.Px).map(([e,t])=>({id:e,...t}));return a.NextResponse.json({philosophies:r,presets:o,activePhilosophy:s})}catch(e){return console.error("Error fetching philosophies:",e),a.NextResponse.json({error:"Failed to fetch philosophies"},{status:500})}}let h=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/philosophy/route",pathname:"/api/philosophy",filename:"route",bundlePath:"app/api/philosophy/route"},resolvedPagePath:"/Users/garrettmerrill/Documents/ootp-draft-iq-parent/ootp-draft-iq/src/app/api/philosophy/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:y}=h,f="/api/philosophy/route";function v(){return(0,n.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:m})}},95456:(e,t,i)=>{i.d(t,{L:()=>n});var r=i(53797),s=i(42023),o=i.n(s);let n={providers:[(0,r.Z)({name:"credentials",credentials:{username:{label:"Username",type:"text"},password:{label:"Password",type:"password"}},async authorize(e){let t=(await i.e(538).then(i.bind(i,13538))).default;if(!e?.username||!e?.password)throw Error("Please enter your username and password");let r=await t.user.findUnique({where:{username:e.username}});if(!r)throw Error("No user found with this username");if(!await o().compare(e.password,r.passwordHash))throw Error("Invalid password");return{id:r.id,name:r.username}}})],session:{strategy:"jwt",maxAge:2592e3},pages:{signIn:"/login",error:"/login"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id),e)}}},27351:(e,t,i)=>{i.d(t,{N2:()=>o,Px:()=>s,ae:()=>r,ic:()=>n});let r={name:"Default",description:"Balanced approach emphasizing individual tools with development factor",isActive:!0,isPreset:!1,cutoffs:{batterCutoffs:{contact:null,power:null,eye:null,gap:null,speed:null,defense:null},pitcherCutoffs:{stuff:null,movement:null,control:null,stamina:null},personalityCutoffs:{noLowWorkEthic:!1,noLowIntelligence:!1,noLowAdaptability:!1,noInjuryProne:!1},maxRisk:null,minPotential:null,minOverall:null},potentialWeight:25,overallWeight:10,riskPenalties:{veryHigh:15,high:10,medium:5},personalityBonuses:{highWorkEthic:5,highIntelligence:3,leadership:2,highAdaptability:2,durable:3},personalityPenalties:{lowWorkEthic:8,lowIntelligence:3,lowAdaptability:2,injuryProne:5},collegeVsHS:"neutral",collegeHSBonus:5,preferredBatterTypes:[],batterTypeBonus:3,preferredPitcherTypes:[],pitcherTypeBonus:3,priorityPositions:[],positionBonus:5,useBabipKs:!1,batterWeights:{power:25,contact:25,babip:15,avoidK:10,eye:15,gap:10,speed:10,defense:15},useMovementSP:!0,spWeights:{stuff:30,movement:25,control:20,pBabip:15,hrRate:10,stamina:15,arsenal:10},useMovementRP:!0,rpWeights:{stuff:35,movement:25,control:20,pBabip:15,hrRate:10,arsenal:15},tierThresholds:{elite:75,veryGood:60,good:45,average:30}},s={balanced:{...r,name:"Balanced",description:"Balanced approach with development factor",isActive:!1,isPreset:!0},highCeiling:{...r,name:"High Ceiling",description:"Chase upside, accept risk",isActive:!1,isPreset:!0,potentialWeight:35,overallWeight:5,riskPenalties:{veryHigh:8,high:5,medium:2},collegeVsHS:"hs",collegeHSBonus:5,batterWeights:{power:30,contact:20,babip:15,avoidK:10,eye:10,gap:10,speed:15,defense:5},spWeights:{stuff:35,movement:25,control:15,pBabip:15,hrRate:10,stamina:15,arsenal:10}},safePicks:{...r,name:"Safe Picks",description:"Polished players, minimize bust risk",isActive:!1,isPreset:!0,potentialWeight:20,overallWeight:25,riskPenalties:{veryHigh:20,high:15,medium:8},personalityBonuses:{highWorkEthic:8,highIntelligence:5,leadership:3,highAdaptability:3,durable:5},collegeVsHS:"college",collegeHSBonus:8},toolsFirst:{...r,name:"Tools First",description:"Raw athleticism over polish",isActive:!1,isPreset:!0,potentialWeight:20,overallWeight:5,batterWeights:{power:25,contact:15,babip:10,avoidK:10,eye:10,gap:10,speed:25,defense:20}},premiumPositions:{...r,name:"Premium Positions",description:"Up-the-middle and SP focus",isActive:!1,isPreset:!0,priorityPositions:["C","SS","2B","CF","SP"],positionBonus:10},pitchingFirst:{...r,name:"Pitching First",description:"Build from the mound",isActive:!1,isPreset:!0,priorityPositions:["SP","RP","CL"],positionBonus:8,preferredPitcherTypes:["GB","EX GB"],pitcherTypeBonus:5}},o=["C","2B","SS","3B","CF"],n=["SP","RP","CL"]}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[948,242,790,70],()=>i(6667));module.exports=r})();