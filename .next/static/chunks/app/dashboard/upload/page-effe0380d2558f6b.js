(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{6141:function(e,t,a){Promise.resolve().then(a.bind(a,7238))},8030:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(2265);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:d=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:r,height:r,stroke:a,strokeWidth:i?24*Number(d)/Number(r):d,className:n("lucide",o),...m},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{className:i,...o}=a;return(0,s.createElement)(d,{ref:l,iconNode:t,className:n("lucide-".concat(r(e)),i),...o})});return a.displayName="".concat(e),a}},6780:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(8030).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2940:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(8030).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6356:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(8030).Z)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},3274:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8184:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(8030).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},6463:function(e,t,a){"use strict";var s=a(1169);a.o(s,"redirect")&&a.d(t,{redirect:function(){return s.redirect}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},7238:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(7437),r=a(2265),n=a(6463),l=a(2940),d=a(6780),i=a(6356),o=a(3274),c=a(8184);function u(){let e=(0,n.useRouter)(),[t,a]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[g,j]=(0,r.useState)(!1),[k,b]=(0,r.useState)(null),y=(0,r.useCallback)(e=>{e.preventDefault(),m(!1),p(null);let t=e.dataTransfer.files[0];t&&t.name.endsWith(".csv")?a(t):p("Please upload a CSV file")},[]),N=async()=>{if(t){h(!0),p(null);try{let a=new FormData;a.append("file",t);let s=await fetch("/api/players/upload",{method:"POST",body:a}),r=await s.json();if(!s.ok)throw Error(r.error||"Upload failed");j(!0),b(r.stats),setTimeout(()=>{e.push("/dashboard/draft")},2e3)}catch(e){p(e instanceof Error?e.message:"Something went wrong")}finally{h(!1)}}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-dugout-900 dark:text-white",children:"Upload Draft Data"}),(0,s.jsx)("p",{className:"text-dugout-500 dark:text-dugout-400 mt-1",children:"Import your OOTP Baseball CSV export file"})]}),g&&k&&(0,s.jsx)("div",{className:"card p-6 border-l-4 border-l-greenFlag",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-greenFlag/10",children:(0,s.jsx)(l.Z,{className:"w-6 h-6 text-greenFlag"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-semibold text-dugout-900 dark:text-white",children:"Upload Successful!"}),(0,s.jsxs)("p",{className:"text-sm text-dugout-500 dark:text-dugout-400 mt-1",children:["Imported ",k.total," players (",k.batters," batters, ",k.pitchers," pitchers)"]}),(0,s.jsx)("p",{className:"text-sm text-dugout-400 dark:text-dugout-500 mt-2",children:"Redirecting to draft board..."})]})]})}),f&&(0,s.jsx)("div",{className:"card p-4 border-l-4 border-l-redFlag",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(d.Z,{className:"w-5 h-5 text-redFlag flex-shrink-0"}),(0,s.jsx)("p",{className:"text-sm text-redFlag",children:f})]})}),!g&&(0,s.jsx)("div",{onDragOver:e=>{e.preventDefault(),m(!0)},onDragLeave:()=>m(!1),onDrop:y,className:"card p-8 border-2 border-dashed transition-colors ".concat(u?"border-diamond-500 bg-diamond-50 dark:bg-diamond-950/20":t?"border-greenFlag bg-greenFlag/5":"border-dugout-300 dark:border-dugout-700"),children:(0,s.jsx)("div",{className:"text-center",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-16 h-16 mx-auto rounded-full bg-greenFlag/10 flex items-center justify-center mb-4",children:(0,s.jsx)(i.Z,{className:"w-8 h-8 text-greenFlag"})}),(0,s.jsx)("h3",{className:"font-semibold text-dugout-900 dark:text-white",children:t.name}),(0,s.jsxs)("p",{className:"text-sm text-dugout-500 dark:text-dugout-400 mt-1",children:[(t.size/1024).toFixed(1)," KB"]}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3 mt-6",children:[(0,s.jsx)("button",{onClick:()=>a(null),className:"btn-secondary btn-sm",disabled:x,children:"Choose Different File"}),(0,s.jsx)("button",{onClick:N,disabled:x,className:"btn-primary btn-sm",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{className:"w-4 h-4"}),"Upload & Analyze"]})})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-16 h-16 mx-auto rounded-full bg-dugout-100 dark:bg-dugout-800 flex items-center justify-center mb-4",children:(0,s.jsx)(c.Z,{className:"w-8 h-8 text-dugout-400"})}),(0,s.jsx)("h3",{className:"font-semibold text-dugout-900 dark:text-white",children:"Drop your CSV file here"}),(0,s.jsx)("p",{className:"text-sm text-dugout-500 dark:text-dugout-400 mt-1",children:"or click to browse"}),(0,s.jsxs)("label",{className:"btn-primary btn-sm mt-6 cursor-pointer inline-flex",children:[(0,s.jsx)("input",{type:"file",accept:".csv",onChange:e=>{var t;p(null);let s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&s.name.endsWith(".csv")?a(s):p("Please upload a CSV file")},className:"hidden"}),"Select File"]})]})})}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("h2",{className:"font-semibold text-dugout-900 dark:text-white mb-4",children:"How to Export from OOTP"}),(0,s.jsxs)("ol",{className:"space-y-3 text-sm text-dugout-600 dark:text-dugout-400",children:[(0,s.jsxs)("li",{className:"flex gap-3",children:[(0,s.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-diamond-100 dark:bg-diamond-900 text-diamond-700 dark:text-diamond-300 flex items-center justify-center text-xs font-medium",children:"1"}),(0,s.jsx)("span",{children:"Open your OOTP Baseball game and go to the draft pool"})]}),(0,s.jsxs)("li",{className:"flex gap-3",children:[(0,s.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-diamond-100 dark:bg-diamond-900 text-diamond-700 dark:text-diamond-300 flex items-center justify-center text-xs font-medium",children:"2"}),(0,s.jsx)("span",{children:"Select all players and choose Export to CSV"})]}),(0,s.jsxs)("li",{className:"flex gap-3",children:[(0,s.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-diamond-100 dark:bg-diamond-900 text-diamond-700 dark:text-diamond-300 flex items-center justify-center text-xs font-medium",children:"3"}),(0,s.jsx)("span",{children:"Make sure to include all available columns in the export"})]}),(0,s.jsxs)("li",{className:"flex gap-3",children:[(0,s.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-diamond-100 dark:bg-diamond-900 text-diamond-700 dark:text-diamond-300 flex items-center justify-center text-xs font-medium",children:"4"}),(0,s.jsx)("span",{children:"Upload the saved CSV file here"})]})]})]})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6141)}),_N_E=e.O()}]);